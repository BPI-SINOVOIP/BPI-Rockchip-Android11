
# These values are ignored, they are here just to be referenced below.
constants:
  num_bindings_column: &num_bindings_column
    dimension: "num_bindings"
    pretty_printer:
      format_string: "%s bindings"

  num_classes_column: &num_classes_column
    dimension: "num_classes"
    pretty_printer:
      format_string: "%s classes"

  compiler_name_row: &compiler_name_row
    dimension: "compiler_name"
    pretty_printer:
      format_string: "%s"

tables:
  - name: "Fruit compile time (single file)"
    benchmark_filter:
      name: "fruit_single_file_compile_time"
      benchmark_generation_flags: []
      additional_cmake_args: []
    columns: *num_bindings_column
    rows: *compiler_name_row
    results:
      dimension: "compile_time"
      unit: "seconds"
  
  - name: "Fruit compile time"
    benchmark_filter:
      name: "fruit_compile_time"
      benchmark_generation_flags: []
      additional_cmake_args: []
    columns: *num_classes_column
    rows: *compiler_name_row
    results:
      dimension: "compile_time"
      unit: "seconds"

  - name: "Fruit incremental compile time"
    benchmark_filter:
      name: "fruit_incremental_compile_time"
      benchmark_generation_flags: []
      additional_cmake_args: []
    columns: *num_classes_column
    rows: *compiler_name_row
    results:
      dimension: "compile_time"
      unit: "seconds"

  - name: "Fruit full injection time"
    benchmark_filter:
      name: "fruit_run_time"
      benchmark_generation_flags: []
      additional_cmake_args: []
    columns: *num_classes_column
    rows: *compiler_name_row
    results:
      dimension: "Full injection time"
      unit: "seconds"

  - name: "Fruit component normalization time"
    benchmark_filter:
      name: "fruit_run_time"
      benchmark_generation_flags: []
      additional_cmake_args: []
    columns: *num_classes_column
    rows: *compiler_name_row
    results:
      dimension: "componentNormalizationTime"
      unit: "seconds"

  - name: "Fruit setup time"
    benchmark_filter:
      name: "fruit_run_time"
      benchmark_generation_flags: []
      additional_cmake_args: []
    columns: *num_classes_column
    rows: *compiler_name_row
    results:
      dimension: "Total for setup"
      unit: "seconds"

  - name: "Fruit per-request time"
    benchmark_filter:
      name: "fruit_run_time"
      benchmark_generation_flags: []
      additional_cmake_args: []
    columns: *num_classes_column
    rows: *compiler_name_row
    results:
      dimension: "Total per request"
      unit: "seconds"
  
  - name: "New/delete time"
    benchmark_filter: 
      name: "new_delete_run_time"
      benchmark_generation_flags: []
      additional_cmake_args: []
    columns: *num_classes_column
    rows: *compiler_name_row
    results:
      dimension: "Total"
      unit: "seconds"
    
  - name: "Compile time (100 classes)"
    benchmark_filter:
      num_classes: 100
      benchmark_generation_flags: []
      additional_cmake_args: []
    columns:
      dimension: "name"
      pretty_printer:
        fixed_map:
          "fruit_compile_time": "Fruit"
          "boost_di_compile_time": "Boost.DI"
          "simple_di_incremental_compile_time": "Simple DI"
          "simple_di_with_interfaces_incremental_compile_time": "Simple DI w/ interfaces"
          "simple_di_with_interfaces_and_new_delete_incremental_compile_time": "Simple DI w/ interfaces, new/delete"
    rows: *compiler_name_row
    results:
      dimension: "compile_time"
      unit: "seconds"
  
  - name: "Incremental compile time (100 classes)"
    benchmark_filter:
      num_classes: 100
      benchmark_generation_flags: []
      additional_cmake_args: []
    columns:
      dimension: "name"
      pretty_printer:
        fixed_map:
          "fruit_incremental_compile_time": "Fruit"
          "boost_di_incremental_compile_time": "Boost.DI"
          "simple_di_incremental_compile_time": "Simple DI"
          "simple_di_with_interfaces_incremental_compile_time": "Simple DI w/ interfaces"
          "simple_di_with_interfaces_and_new_delete_incremental_compile_time": "Simple DI w/ interfaces, new/delete"
    rows: *compiler_name_row
    results:
      dimension: "compile_time"
      unit: "seconds"

  - name: "Fruit full injection time (100 classes)"
    benchmark_filter:
      num_classes: 100
      benchmark_generation_flags: []
      additional_cmake_args: []
    columns:
      dimension: "name"
      pretty_printer:
        fixed_map:
          "fruit_run_time": "Fruit"
          "boost_di_run_time": "Boost.DI"
          "simple_di_incremental_run_time": "Simple DI"
          "simple_di_with_interfaces_incremental_run_time": "Simple DI w/ interfaces"
          "simple_di_with_interfaces_and_new_delete_incremental_run_time": "Simple DI w/ interfaces, new/delete"
    rows: *compiler_name_row
    results:
      dimension: "Full injection time"
      unit: "seconds"

  - name: "Fruit component normalization time (100 classes)"
    benchmark_filter:
      num_classes: 100
      benchmark_generation_flags: []
      additional_cmake_args: []
    columns:
      dimension: "name"
      pretty_printer:
        fixed_map:
          "fruit_run_time": "Fruit"
          "boost_di_run_time": "Boost.DI"
          "simple_di_incremental_run_time": "Simple DI"
          "simple_di_with_interfaces_incremental_run_time": "Simple DI w/ interfaces"
          "simple_di_with_interfaces_and_new_delete_incremental_run_time": "Simple DI w/ interfaces, new/delete"
    rows: *compiler_name_row
    results:
      dimension: "componentNormalizationTime"
      unit: "seconds"


  - name: "Setup time (100 classes)"
    benchmark_filter:
      num_classes: 100
      benchmark_generation_flags: []
      additional_cmake_args: []
    columns:
      dimension: "name"
      pretty_printer:
        fixed_map:
          "fruit_run_time": "Fruit"
          "boost_di_run_time": "Boost.DI"
          "simple_di_incremental_run_time": "Simple DI"
          "simple_di_with_interfaces_incremental_run_time": "Simple DI w/ interfaces"
          "simple_di_with_interfaces_and_new_delete_incremental_run_time": "Simple DI w/ interfaces, new/delete"
    rows: *compiler_name_row
    results:
      dimension: "Total for setup"
      unit: "seconds"

  - name: "Per-request time (100 classes)"
    benchmark_filter:
      num_classes: 100
      benchmark_generation_flags: []
      additional_cmake_args: []
    columns:
      dimension: "name"
      pretty_printer:
        fixed_map:
          "fruit_run_time": "Fruit"
          "boost_di_run_time": "Boost.DI"
          "simple_di_incremental_run_time": "Simple DI"
          "simple_di_with_interfaces_incremental_run_time": "Simple DI w/ interfaces"
          "simple_di_with_interfaces_and_new_delete_incremental_run_time": "Simple DI w/ interfaces, new/delete"
    rows: *compiler_name_row
    results:
      dimension: "Total per request"
      unit: "seconds"
  
  - name: "Executable size (stripped, 100 classes)"
    benchmark_filter:
      num_classes: 100
      benchmark_generation_flags: []
      additional_cmake_args: []
    columns:
      dimension: "name"
      pretty_printer:
        fixed_map:
          "fruit_executable_size": "Fruit"
          "boost_di_executable_size": "Boost.DI"
          "simple_di_incremental_run_time": "Simple DI"
          "simple_di_with_interfaces_incremental_run_time": "Simple DI w/ interfaces"
          "simple_di_with_interfaces_and_new_delete_incremental_run_time": "Simple DI w/ interfaces, new/delete"
    rows: *compiler_name_row
    results:
      dimension: "num_bytes"
      unit: "bytes"
